---
output: 
  html_document:
    css: www/styles_weeklyQC.css
    anchor_sections: FALSE
    includes:
        in_header: "header_manual.html"
params:
  week_start: "2019-07-01"
  cycle_latest: 4
---
Weekly QC Report for week starting: <span style="font-weight:bold;">`r params$week_start`</span> {.tabset .tabset-pills}
--------------------------------------------------
```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = FALSE)

```

```{r import, include = FALSE, cache = TRUE}
#forestNETN::importData()
path = "C:/Forest_Health/exports/NETN"
forestNETN::importCSV(path = path, zip_name = "NETN_Forest_20210507.zip") # migration check 5/7
```

```{r deps, include = FALSE}
library(forestNETN)
library(tidyverse)
library(lubridate)
library(knitr)
library(kableExtra)
```

```{r compile}
curr_year <- year(params$week_start)
week_start <- as_date(params$week_start)
cycle_latest <- paste0("cycle_", params$cycle_latest)
cycle_prev <- paste0("cycle_", params$cycle_latest-1)
source("Compile_for_weekly_QC.R")
```

### QC Checks {.tabset}
#### Summary {.tabset}
This tab documents the Quality Control checks that were performed and number of suspect records returned for each database tab. For any suspect record returned, a separate tab is included in the report to review the data in question.

```{r QC_results}
QC_check_table
```

```{r visit_notes, echo = FALSE, include = include_visit_notes, results = 'asis'}
cat("#### Visit Notes {.tabset}", "\n")
if(include_visit_notes == TRUE){
visit_table
  }
```

```{r stand_tab, echo = FALSE, include = include_stand_tab, results = 'asis'}
cat("### Stand {.tabset}", "\n")

```

```{r stand_tables, echo = FALSE, include = include_stand_tab}
check_null(stand_pm_table)

check_null(stand_str_table)

check_null(microtop_table)

check_null(DBI_1_table)

check_null(stand_dist_table)

```

```{r tree_tab, echo = FALSE, include = include_tree_tab, results = 'asis'}
cat("### Tree {.tabset}", "\n")

```

```{r tree_tables, echo = FALSE, include = include_tree_tab}
check_null(tree_data_pm_table)

check_null(status_table)

check_null(crown_table)

check_null(fol_maj_table)

check_null(trcond_spp_table)

```

### Microplot {.tabset}

#### Saplings {.tabset}

#### Shrubs

#### Seedlings

### Quadrats {.tabset}

#### Quadrat Data {.tabset}

#### Quadrat Species

### Additional Species

### CWD

### Soil




